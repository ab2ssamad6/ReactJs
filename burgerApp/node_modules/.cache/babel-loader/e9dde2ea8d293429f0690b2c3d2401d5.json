{"ast":null,"code":"var _jsxFileName = \"D:\\\\workspace\\\\appone\\\\src\\\\components\\\\Todo.js\";\nimport React, { useRef, useEffect, useReducer } from 'react';\nimport axios from 'axios';\nimport List from './List';\n\nconst Todo = props => {\n  //const [todoName, setTodoName] = useState('');\n  //const [submittedTodo, setSubmittedTodo] = useState(null);\n  //const [todoList, setTodoList] = useState([]);\n  const todoInputRef = useRef();\n\n  const todoListReducer = (state, action) => {\n    switch (action.type) {\n      case 'ADD':\n        return state.concat(action.payload);\n\n      case 'SET':\n        return action.payload;\n\n      case 'REMOVE':\n        return state.filter(todo => todo.id !== action.payload);\n\n      default:\n        return state;\n    }\n  };\n\n  const [todoList, dispatch] = useReducer(todoListReducer, []);\n  useEffect(() => {\n    axios.get('https://todo-list-bb387.firebaseio.com/todos.json').then(res => {\n      console.log('DATA: ', res);\n      const todoData = res.data;\n      const todos = [];\n\n      for (const key in todoData) {\n        todos.push({\n          id: key,\n          name: todoData[key].name\n        });\n      } //setTodoList(todos); using dispatch\n\n\n      dispatch({\n        type: 'SET',\n        payload: todos\n      });\n    });\n  }, []);\n  /*     const inputChangeHandler = event => {\r\n          setTodoName(event.target.value);\r\n      }; */\n\n  const todoAddHundler = () => {\n    const todoName = todoInputRef.current.value;\n    axios.post('https://todo-list-bb387.firebaseio.com/todos.json', {\n      name: todoName\n    }).then(res => {\n      const todoItem = {\n        id: res.data.name,\n        name: todoName\n      }; //setSubmittedTodo(todoItem);\n\n      dispatch({\n        type: 'ADD',\n        payload: todoItem\n      });\n      console.log('RES: ', res);\n      console.log('todoItem: ', todoItem);\n    }).catch(err => {\n      console.log('ERR: ', err);\n    });\n  };\n\n  const todoRemoveHundler = todoId => {\n    axios.delete(`https://todo-list-bb387.firebaseio.com/todos/${todoId}.json`).then(res => {\n      dispatch({\n        type: 'REMOVE',\n        payload: todoId\n      });\n    }).catch(err => {\n      console.log('ERR: ', err);\n    });\n  };\n\n  return [/*#__PURE__*/React.createElement(\"input\", {\n    key: \"input\",\n    type: \"text\",\n    placeholder: \"Todo\",\n    ref: todoInputRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    key: \"btn\",\n    type: \"button\",\n    onClick: todoAddHundler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"Add\"), /*#__PURE__*/React.createElement(List, {\n    items: todoList,\n    onClick: todoRemoveHundler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  })];\n};\n\nexport default Todo;","map":{"version":3,"sources":["D:/workspace/appone/src/components/Todo.js"],"names":["React","useRef","useEffect","useReducer","axios","List","Todo","props","todoInputRef","todoListReducer","state","action","type","concat","payload","filter","todo","id","todoList","dispatch","get","then","res","console","log","todoData","data","todos","key","push","name","todoAddHundler","todoName","current","value","post","todoItem","catch","err","todoRemoveHundler","todoId","delete"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useReducer } from 'react';\r\nimport axios from 'axios';\r\nimport List from './List';\r\n\r\nconst Todo = props => {\r\n    //const [todoName, setTodoName] = useState('');\r\n    //const [submittedTodo, setSubmittedTodo] = useState(null);\r\n    //const [todoList, setTodoList] = useState([]);\r\n    const todoInputRef = useRef();\r\n\r\n    const todoListReducer = (state, action) => {\r\n        switch (action.type) {\r\n            case 'ADD':\r\n                return state.concat(action.payload);\r\n            case 'SET':\r\n                return action.payload;\r\n            case 'REMOVE':\r\n                return state.filter((todo) => todo.id !== action.payload);\r\n            default:\r\n                return state;\r\n        }\r\n    };\r\n\r\n    const [todoList, dispatch] = useReducer(todoListReducer, []);\r\n\r\n    useEffect(() => {\r\n        axios.get('https://todo-list-bb387.firebaseio.com/todos.json').then(res => {\r\n            console.log('DATA: ', res);\r\n\r\n            const todoData = res.data;\r\n            const todos = [];\r\n            for (const key in todoData) {\r\n                todos.push({ id: key, name: todoData[key].name })\r\n            }\r\n\r\n            //setTodoList(todos); using dispatch\r\n            dispatch({ type: 'SET', payload: todos });\r\n\r\n        });\r\n    }, []);\r\n\r\n/*     const inputChangeHandler = event => {\r\n        setTodoName(event.target.value);\r\n    }; */\r\n\r\n    const todoAddHundler = () => {\r\n        const todoName = todoInputRef.current.value;\r\n\r\n        axios.post('https://todo-list-bb387.firebaseio.com/todos.json', { name: todoName })\r\n            .then(res => {\r\n                const todoItem = { id: res.data.name, name: todoName };\r\n                //setSubmittedTodo(todoItem);\r\n\r\n                dispatch({ type: 'ADD', payload: todoItem });\r\n\r\n                console.log('RES: ', res);\r\n                console.log('todoItem: ', todoItem);\r\n            }).catch(err => {\r\n                console.log('ERR: ', err);\r\n            });\r\n    };\r\n\r\n    const todoRemoveHundler = todoId => {\r\n        axios.delete(`https://todo-list-bb387.firebaseio.com/todos/${todoId}.json`)\r\n            .then(res => {\r\n                dispatch({ type: 'REMOVE', payload: todoId });\r\n            }).catch(err => {\r\n                console.log('ERR: ', err);\r\n            });\r\n    };\r\n\r\n    return [\r\n        <input key=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"Todo\"\r\n            ref={todoInputRef}\r\n        />,\r\n        <button key=\"btn\" type=\"button\" onClick={todoAddHundler}>Add</button>,\r\n        <List\r\n        \r\n        items={todoList}\r\n        onClick={todoRemoveHundler} />\r\n    ]\r\n\r\n};\r\n\r\nexport default Todo;\r\n\r\n"]},"metadata":{},"sourceType":"module"}